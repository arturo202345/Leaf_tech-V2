{% load static %}
<!-- Modal para consejos de cuidado -->
<div id="modalConsejos" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                    <path d="M2 17l10 5 10-5"/>
                    <path d="M2 12l10 5 10-5"/>
                </svg>
                Consejos de Cuidado
            </h2>
            <span class="close-consejos">&times;</span>
        </div>
        
        <div id="consejosContent" style="padding: 20px;">
            <!-- Estado inicial de carga -->
            <div id="consejosLoading" style="text-align: center; padding: 40px; display: none;">
                <div style="margin-bottom: 15px;">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 2h12v6l-6 6 6 6v6H6v-6l6-6-6-6V2z"/>
                    </svg>
                </div>
                <p>Cargando consejos de cuidado...</p>
            </div>

            <!-- Template para mostrar consejos (se clonar치 con JS) -->
            <template id="consejosTemplate">
                <div class="consejos-header">
                    <h3 id="nombrePlanta"></h3>
                    <p id="nombreCientifico" style="display: none;"></p>
                    <div style="margin-top: 10px;">
                        <span id="badgeDificultad" class="consejo-badge">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <path id="iconDificultad" d=""></path>
                            </svg>
                            <span id="textoDificultad"></span>
                        </span>
                        <span id="badgeToxicidad" class="consejo-badge" style="background: #e0e7ff; color: #3730a3;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path id="iconToxicidad" d=""></path>
                            </svg>
                            <span id="textoToxicidad"></span>
                        </span>
                    </div>
                </div>
                
                <div class="consejos-grid">
                    <!-- Luz -->
                    <div class="consejo-item">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="5"/>
                                <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                            </svg>
                            Luz
                        </h3>
                        <p id="conLuz"></p>
                    </div>

                    <!-- Riego -->
                    <div class="consejo-item">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/>
                            </svg>
                            Riego
                        </h3>
                        <p id="conRiego"></p>
                    </div>

                    <!-- Temperatura -->
                    <div class="consejo-item">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/>
                            </svg>
                            Temperatura
                        </h3>
                        <p id="conTemperatura"></p>
                    </div>

                    <!-- Humedad -->
                    <div class="consejo-item">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"/>
                            </svg>
                            Humedad
                        </h3>
                        <p id="conHumedad"></p>
                    </div>

                    <!-- Suelo -->
                    <div class="consejo-item">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2v20m-8-8l8-8 8 8"/>
                                <path d="M6 14h12v6a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-6z"/>
                            </svg>
                            Suelo
                        </h3>
                        <p id="conSuelo"></p>
                    </div>

                    <!-- Fertilizaci칩n -->
                    <div class="consejo-item">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 22v-8m0 0c-3.5 0-6-1.5-6-4s2.5-4 6-4m0 8c3.5 0 6-1.5 6-4s-2.5-4-6-4m0 0V2"/>
                            </svg>
                            Fertilizaci칩n
                        </h3>
                        <p id="conFertilizacion"></p>
                    </div>

                    <!-- Poda (opcional) -->
                    <div id="itemPoda" class="consejo-item" style="display: none;">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="6" cy="6" r="3"/>
                                <circle cx="6" cy="18" r="3"/>
                                <path d="M20 4L8.12 15.88M14.47 14.48L20 20M8.12 8.12L12 12"/>
                            </svg>
                            Poda
                        </h3>
                        <p id="conPoda"></p>
                    </div>

                    <!-- Plagas (opcional) -->
                    <div id="itemPlagas" class="consejo-item" style="display: none;">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 5v14m-7-7h14M8 3l-1 4m9-4l1 4M8 21l-1-4m9 4l1-4"/>
                                <circle cx="12" cy="12" r="4"/>
                            </svg>
                            Plagas y Enfermedades
                        </h3>
                        <p id="conPlagas"></p>
                    </div>

                    <!-- Notas adicionales (opcional) -->
                    <div id="itemNotas" class="consejo-item" style="display: none;">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8"/>
                            </svg>
                            Notas Adicionales
                        </h3>
                        <p id="conNotas"></p>
                    </div>
                </div>
            </template>

            <!-- Mensaje cuando no hay consejos -->
            <div id="noConsejos" class="no-consejos" style="display: none;">
                <div class="no-consejos-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22v-8m0 0c-3.5 0-6-1.5-6-4s2.5-4 6-4m0 8c3.5 0 6-1.5 6-4s-2.5-4-6-4m0 0V2"/>
                    </svg>
                </div>
                <h3>No hay consejos disponibles</h3>
                <p id="mensajeNoConsejos"></p>
            </div>

            <!-- Mensaje de error -->
            <div id="errorConsejos" class="no-consejos" style="display: none;">
                <div class="no-consejos-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                        <path d="M12 9v4m0 4h.01"/>
                    </svg>
                </div>
                <h3>Error al cargar consejos</h3>
                <p>No se pudieron cargar los consejos de cuidado. Por favor, intenta de nuevo.</p>
            </div>
        </div>
    </div>
</div>

<!-- Bot칩n de consejos (inicialmente oculto) -->
<button id="verConsejosBtn" class="toggle-btn" style="margin-top: 10px; background: #10b981; display: none;">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4"/>
        <path d="M12 8h.01"/>
    </svg>
    Ver Consejos de Cuidado
</button>

<!-- Scripts para manejar consejos -->
<script src="{% static 'Js/consejos.js' %}"></script>